{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/arch/Downloads/business-consulting/src/app/components/utils/supabase/server.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY;\n\nif (!supabaseUrl || !supabaseKey) {\n  throw new Error(\"Missing Supabase environment variables!\");\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseKey);\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,0MAAY,EAAC,aAAa","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/arch/Downloads/business-consulting/src/app/components/utils/supabase/blogService.ts"],"sourcesContent":["import { supabase } from \"./server\";\n\ninterface BlogSectionInput {\n  heading: string;\n  content: string;\n  section_order: number;\n}\n\nexport async function createBlogPost(\n  title: string,\n  author: string,\n  thumbnail: string,\n  sections: BlogSectionInput[],\n) {\n  try {\n    // Insert blog post\n    const { data: post, error: postError } = await supabase\n      .from(\"blog_posts\")\n      .insert([{ title, author, thumbnail }])\n      .select(\"id\")\n      .single();\n\n    if (postError) throw postError;\n    if (!post) throw new Error(\"Failed to create blog post\");\n\n    // Insert sections\n    const sectionsWithBlogId = sections.map((s, i) => ({\n      blog_id: post.id,\n      heading: s.heading,\n      content: s.content,\n      section_order: i,\n    }));\n\n    const { error: sectionError } = await supabase\n      .from(\"blog_sections\")\n      .insert(sectionsWithBlogId);\n\n    if (sectionError) throw sectionError;\n\n    return post;\n  } catch (err) {\n    console.error(\"Error creating blog:\", err);\n    throw err;\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAQO,eAAe,eACpB,KAAa,EACb,MAAc,EACd,SAAiB,EACjB,QAA4B;IAE5B,IAAI;QACF,mBAAmB;QACnB,MAAM,EAAE,MAAM,IAAI,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,sKAAQ,CACpD,IAAI,CAAC,cACL,MAAM,CAAC;YAAC;gBAAE;gBAAO;gBAAQ;YAAU;SAAE,EACrC,MAAM,CAAC,MACP,MAAM;QAET,IAAI,WAAW,MAAM;QACrB,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,kBAAkB;QAClB,MAAM,qBAAqB,SAAS,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;gBACjD,SAAS,KAAK,EAAE;gBAChB,SAAS,EAAE,OAAO;gBAClB,SAAS,EAAE,OAAO;gBAClB,eAAe;YACjB,CAAC;QAED,MAAM,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,sKAAQ,CAC3C,IAAI,CAAC,iBACL,MAAM,CAAC;QAEV,IAAI,cAAc,MAAM;QAExB,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/arch/Downloads/business-consulting/src/app/blogform/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { createBlogPost } from \"../components/utils/supabase/blogService\";\n\nexport default function BlogForm() {\n  type SectionField = \"heading\" | \"content\";\n\n  interface BlogSectionInput {\n    heading: string;\n    content: string;\n    section_order: number;\n  }\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(\"\");\n\n  const [sections, setSections] = useState<BlogSectionInput[]>([\n    { heading: \"\", content: \"\", section_order: 0 },\n  ]);\n\n  const addSection = () =>\n    setSections([\n      ...sections,\n      { heading: \"\", content: \"\", section_order: sections.length },\n    ]);\n\n  const updateSection = (index: number, field: SectionField, value: string) => {\n    const updated = [...sections];\n    updated[index] = { ...updated[index], [field]: value };\n    setSections(updated);\n  };\n\n  const submit = async () => {\n    try {\n      await createBlogPost(title, author, thumbnail, sections);\n      alert(\"Blog created successfully!\");\n      setTitle(\"\");\n      setAuthor(\"\");\n      setThumbnail(\"\");\n      setSections([{ heading: \"\", content: \"\", section_order: 0 }]);\n    } catch (err) {\n      alert(\"Failed to create blog. Check console for details.\");\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto p-6\">\n      <h1 className=\"text-2xl font-bold mb-4\">Create Blog</h1>\n      <input\n        type=\"text\"\n        placeholder=\"Title\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        className=\"border p-2 w-full mb-4\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Author\"\n        value={author}\n        onChange={(e) => setAuthor(e.target.value)}\n        className=\"border p-2 w-full mb-4\"\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Thumbnail URL\"\n        value={thumbnail}\n        onChange={(e) => setThumbnail(e.target.value)}\n        className=\"border p-2 w-full mb-4\"\n      />\n\n      <h2 className=\"text-xl font-semibold mb-2\">Sections</h2>\n      {sections.map((s, i) => (\n        <div key={i} className=\"mb-4 border p-2\">\n          <input\n            type=\"text\"\n            placeholder=\"Heading\"\n            value={s.heading}\n            onChange={(e) => updateSection(i, \"heading\", e.target.value)}\n            className=\"border p-2 w-full mb-2\"\n          />\n          <textarea\n            placeholder=\"Content\"\n            value={s.content}\n            onChange={(e) => updateSection(i, \"content\", e.target.value)}\n            className=\"border p-2 w-full\"\n          />\n        </div>\n      ))}\n      <button\n        onClick={addSection}\n        className=\"bg-blue-500 text-white px-4 py-2 rounded mr-2\"\n      >\n        Add Section\n      </button>\n      <button\n        onClick={submit}\n        className=\"bg-green-500 text-white px-4 py-2 rounded\"\n      >\n        Publish Blog\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IAQtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAqB;QAC3D;YAAE,SAAS;YAAI,SAAS;YAAI,eAAe;QAAE;KAC9C;IAED,MAAM,aAAa,IACjB,YAAY;eACP;YACH;gBAAE,SAAS;gBAAI,SAAS;gBAAI,eAAe,SAAS,MAAM;YAAC;SAC5D;IAEH,MAAM,gBAAgB,CAAC,OAAe,OAAqB;QACzD,MAAM,UAAU;eAAI;SAAS;QAC7B,OAAO,CAAC,MAAM,GAAG;YAAE,GAAG,OAAO,CAAC,MAAM;YAAE,CAAC,MAAM,EAAE;QAAM;QACrD,YAAY;IACd;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,IAAA,iLAAc,EAAC,OAAO,QAAQ,WAAW;YAC/C,MAAM;YACN,SAAS;YACT,UAAU;YACV,aAAa;YACb,YAAY;gBAAC;oBAAE,SAAS;oBAAI,SAAS;oBAAI,eAAe;gBAAE;aAAE;QAC9D,EAAE,OAAO,KAAK;YACZ,MAAM;YACN,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;;;;;;0BAEZ,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gBACzC,WAAU;;;;;;0BAEZ,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gBAC5C,WAAU;;;;;;0BAGZ,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;YAC1C,SAAS,GAAG,CAAC,CAAC,GAAG,kBAChB,6LAAC;oBAAY,WAAU;;sCACrB,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO,EAAE,OAAO;4BAChB,UAAU,CAAC,IAAM,cAAc,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC3D,WAAU;;;;;;sCAEZ,6LAAC;4BACC,aAAY;4BACZ,OAAO,EAAE,OAAO;4BAChB,UAAU,CAAC,IAAM,cAAc,GAAG,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC3D,WAAU;;;;;;;mBAZJ;;;;;0BAgBZ,6LAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;0BAGD,6LAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP;GAnGwB;KAAA","debugId":null}}]
}